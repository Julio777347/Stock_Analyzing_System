<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title></title>
    <link href="singleSearch.css" rel="stylesheet" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/flat-ui/2.3.0/css/flat-ui.min.css" rel="stylesheet">

    <style type="text/css">
        #input {
            margin-top: 20px;
        }

        ul {
            text-align: center;
        }

        .nav-tabs > li {
            width: 20%;
            background-color: #0099ff;
        }

        a {
            color: #333333
        }

        .nav > li:hover .dropdown-menu {
            display: block;
        }

        .btn.btn-default.btn-sm {

            font-size: 8px;
            color: #1565a2;
            background: white;
        }
        .glyphicon.glyphicon-search{
            font-size: 22px;
            color: #1565a2;

        }
    </style>


    <script>
        //        股票对比
        var Number = 0;//记录比较表格个数
        var stockToCompare = [];
        var startDate;
        var endDate;
        var dates;
        var closePrice = [];
        var variance = [];
        var lowest;//各个股票的最高最低值，填入表中
        var highest;
        function getIdentifier(stockNamestr) {
            this.identifier = stockNamestr;
        }
        function getStart(datestr){
            this.start = datestr;
        }
        function getEnd(datestr) {
            this.end=datestr;
        }

        function Compare() {
            var url = "http://localhost:8080/singleStock";
            for (var v = o; v < Number; v++) {
                var stockName = stockToCompare[v];
                var key = JSON.stringify(new getIdentifier(stockName), new getStart(startDate), new getEnd(endDate));
//                alert(date);
//            alert("successb");
                $.ajax({

                    type: "POST",
                    url: url,
                    data: key,
                    dataType: "json",//此处要设置成json
                    success: function (data) {


                        var open = data[0].open;
                        var close = data[0].adjClose;
                        var high = data[0].high;
                        var low = data[0].low;
                        var dates = data[0].dates;
                        var v = data[0].variance;
                        closePrice.push(close);
                        variance.push(v);


                    }


//
                });//回调函数


            }
            ShowChart();
        }
        function Remove(){

        }
        function ShowChart(){
            var series1=[];
            for(var i = 0;i<Number;i++){
                series.push({
                    name: stockToCompare[i],
                    type: 'line',
//                    stack: '总量',
                     data:closePrice[i],
//                    data: arr_sum_long_new[i]
                });
            }

//            每日收盘价
            /**
             * Created by chenyuyan on 1/6/17.
             */
            var myChart = echarts.init(document.getElementById("closePrice"));
            var option = {
                title : {
                    text: '每日收盘价',

                },
                tooltip : {
                    trigger: 'axis'
                },
                legend: {
                    data:['A','B']
                },
                //右上角工具条
                toolbox: {
                    show : true,
                    feature : {
                        mark : {show: true},
                        dataView : {show: true, readOnly: false},
                        magicType : {show: true, type: ['line', 'bar']},
                        restore : {show: true},
                        saveAsImage : {show: true}
                    }
                },
                calculable : true,
                xAxis : [
                    {
                        type : 'category',
                        boundaryGap : false,
                        data : dates,
                    }
                ],
                yAxis : [
                    {
                        type : 'value',

                    }
                ],


                series : series1
            };
// 为echarts对象加载数据
            myChart.setOption(option);
//相对收益率



        }

    </script>


</head>
<body>

<script>
    var stockName
    function sendName() {
        stockName = document.getElementById("stockNameInput").value;
//        alert(stockName);
        document.location.href && (document.location.href = "singleStockCurrent.html?stockNameInput=" + stockName);

    }
    var stockNames = ["a", "b", "c"];
    var stockNums = [1, 2, 3];


</script>



<!--固定导航栏-->
<div class="container-fluid">
    <div class="navbar-header">
        <img src="stock2.jpg" class="img-rounded">
    </div>
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#" style="height: 100px;line-height: 70px; font-size:4em">Stocking</a>
    </div>
    <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
            <li><a href="login.html" target="_blank" style="height: 100px;line-height: 70px; font-size:1.2em">登录</a>
            </li>
            <li><a href="#" style="height: 100px;line-height: 70px; font-size:1.2em">注册</a></li>
        </ul>
        <form class="navbar-form navbar-right" action="#" role="search">
            <div class="form-group">
                <div class="input-group" id="input">
                    <input class="form-control" id="navbarInput-01" type="search" placeholder="Search"
                           style="height: 45px;padding: 10px 15px;font-size: 17px;line-height: 1.235; width:300px">
                    <span class="input-group-btn">
                  <button type="submit" class="btn"
                          style="height: 45px;padding: 10px 15px;font-size: 17px;line-height: 1.235"><span
                          class="fui-search "></span></button>
                </span>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="collapse navbar-collapse" id="navbar-collapse-6">
    <ul class="nav nav-tabs">
        <li><a href="index.html">首页</a></li>
        <li class="active"><a href="singleSearch.html">股票数据</a>

        </li>
        <li><a href="market_2.html">行情信息</a></li>
        <li><a href="regressionTest.html">回测</a></li>
        <li><a href="news.html">新闻</a></li>
    </ul>
</div>


<div class="collapse navbar-collapse" id="navbar-collapse-7">
    <ul style="margin-top: 20px" id="myTab" class="nav nav-tabs">
        <li style="background: #fffaf0" class="active">
            <a href="#stockContent" data-toggle="tab">
                个股详情
            </a>

        </li>
        <li style="background: white"><a href="#stockCompare" data-toggle="tab">股票比较</a></li>

    </ul>
</div>


<!--个股详情-->

<div id="myTabContent" class="tab-content">
    <div class="tab-pane fade in active" id="stockContent">
        <form action="singleStockCurrent.html" method="POST">
            <div style="padding-left:40px;margin-top: 40px ;margin-left: 40px" class="nav__search">
                <input type="text" id="stockNameInput" placeholder="输入股票名或股票编号">
                <span class="nav__search__addon">
           <!--<input style="background: rgba(0,0,0,0)" type="submit">-->
                    <!--<script>-->
                    <!--//                        stockName = document.getEl-->
                    <!--</script>-->
                <button type="button" class="btn btn-default btn-sm" type="submit" onclick="sendName()">

             <!--<a href="singleSearch.html"></a>-->
          <span class="glyphicon glyphicon-search"></span>
        </button>
        </span>

            </div>
        </form>


        <div style="padding-left:40px;margin-left: 40px;margin-top:40px;width:70%;float:left"
             class="stockScreener-range">
            <div class="stockScreener-title">选择范围</div>
            <div class="stockScreener-range-wrapper">
                <div class="stockScreener-range-industry" style="width:50%;display:inline;float:left">
                    <span>行业：</span><select>
                    <option value="全部">全部</option>


                    <option value="保险业">保险业</option>
                    <option value="G59">仓储业</option>
                    <option value="A03">畜牧业</option>
                    <option value="H62">餐饮业</option>
                    <option value="D44">电力、热力生产和供应业</option>
                    <option value="G54">道路运输业</option>
                    <option value="C38">电气机械和器材制造业</option>
                    <option value="I63">电信、广播电视和卫星传输服务</option>
                    <option value="K70">房地产业</option>
                    <option value="C30">非金属矿物制品业</option>
                    <option value="C42">废弃资源综合利用业</option>
                    <option value="E47">房屋建筑业</option>
                    <option value="C18">纺织服装、服饰业</option>
                    <option value="C17">纺织业</option>
                    <option value="R86">广播、电视、电影和影视录音制作业</option>
                    <option value="G57">管道运输业</option>
                    <option value="N78">公共设施管理业</option>
                    <option value="J66">货币金融服务</option>
                    <option value="G56">航空运输业</option>
                    <option value="I64">互联网和相关服务</option>
                    <option value="B08">黑色金属矿采选业</option>
                    <option value="C31">黑色金属冶炼和压延加工业</option>
                    <option value="C28">化学纤维制造业</option>
                    <option value="C26">化学原料和化学制品制造业</option>
                    <option value="C21">家具制造业</option>
                    <option value="C39">计算机、通信和其他电子设备制造业</option>
                    <option value="C33">金属制品业</option>
                    <option value="P82">教育</option>
                    <option value="C15">酒、饮料和精制茶制造业</option>
                    <option value="E49">建筑安装业</option>
                    <option value="E50">建筑装饰和其他建筑业</option>
                    <option value="B11">开采辅助活动</option>
                    <option value="F52">零售业</option>
                    <option value="A02">林业</option>
                    <option value="C20">木材加工和木、竹、藤、棕、草制品业</option>
                    <option value="B06">煤炭开采和洗选业</option>
                    <option value="C13">农副食品加工业</option>
                    <option value="A05">农、林、牧、渔服务业</option>
                    <option value="A01">农业</option>
                    <option value="F51">批发业</option>
                    <option value="C19">皮革、毛皮、羽毛及其制品和制鞋业</option>
                    <option value="C36">汽车制造业</option>
                    <option value="J69">其他金融业</option>
                    <option value="C41">其他制造业</option>
                    <option value="I65">软件和信息技术服务业</option>
                    <option value="D45">燃气生产和供应业</option>
                    <option value="D46">水的生产和供应业</option>
                    <option value="C14">食品制造业</option>
                    <option value="G55">水上运输业</option>
                    <option value="N77">生态保护和环境治理业</option>
                    <option value="L72">商务服务业</option>
                    <option value="B07">石油和天然气开采业</option>
                    <option value="C25">石油加工、炼焦和核燃料加工业</option>
                    <option value="C37">铁路、船舶、航空航天和其他运输设备制造业</option>
                    <option value="G53">铁路运输业</option>
                    <option value="E48">土木工程建筑业</option>
                    <option value="C34">通用设备制造业</option>
                    <option value="R87">文化艺术业</option>
                    <option value="C24">文教、工美、体育和娱乐用品制造业</option>
                    <option value="Q83">卫生</option>
                    <option value="C29">橡胶和塑料制品业</option>
                    <option value="R85">新闻和出版业</option>
                    <option value="M73">研究和试验发展</option>
                    <option value="C40">仪器仪表制造业</option>
                    <option value="C23">印刷和记录媒介复制业</option>
                    <option value="B09">有色金属矿采选业</option>
                    <option value="C32">有色金属冶炼和压延加工业</option>
                    <option value="A04">渔业</option>
                    <option value="C27">医药制造业</option>
                    <option value="G60">邮政业</option>
                    <option value="J67">资本市场服务</option>
                    <option value="S90">综合</option>
                    <option value="L71">租赁业</option>
                    <option value="H61">住宿业</option>
                    <option value="G58">装卸搬运和运输代理业</option>
                    <option value="M74">专业技术服务业</option>
                    <option value="C35">专用设备制造业</option>
                    <option value="C22">造纸和纸制品业</option>
                </select></div>
                <div class="stockScreener-range-area" style="width:40%;float:left;margin-top: 4%">
                    <span>板块：</span><select>
                    <option value="全部">全部</option>
                    <option value="创业板">创业板</option>
                    <option value="中小板">中小板</option>
                    <option value="深市A股">深市A股</option>
                    <option value="深市B股">深市B股</option>
                    <option value="沪市A股">沪市A股</option>
                    <option value="沪市B股">沪市B股</option>


                </select></div>


                <div>

                    <button style="margin-left: -20%;margin-top: 4%" type="button" class="btn btn-default btn-sm"
                            type="submit" onclick="stockSearch()">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </div>
            </div>

            <div style="margin-top: 50px;margin-left: 0px" class="stockScreener-search-result new-portfolio">
                <div><span class="result">符合条件股票<span id="numberOfSearch">0</span>只</span>

                </div>
                <div class="stockScreener-search-result-table-container">
                    <div class="stockScreener-search-result-table mainTable overflowx">
                        <table id="stockTable" style="width:690px;" cellspacing="0" cellpadding="0"
                               class="table table-striped">

                            <tbody>


                            </tbody>
                        </table>

                    </div>

                </div>
                <script>
                    function stockSearch() {
                        for (var i = 0; i < 3; i++) {
                            var x = document.getElementById("stockTable").insertRow(i);
                            var y = x.insertCell(0);
                            var z = x.insertCell(1);
                            y.innerHTML = "<a href='singleStockCurrent.html?stockNameInput=" + stockNames[i] + "'>" + stockNames[i] + "</a>";
                            z.innerHTML = stockNums[i];

                        }
                        var x = document.getElementById("stockTable").insertRow(0);
                        var y = x.insertCell(0);
                        var z = x.insertCell(1);
//                        var zz = x.insertCell(2);
                        y.innerHTML = "股票名称";
                        z.innerHTML = "股票编号";
//                        zz.innerHTML = "收藏"
                        document.getElementById('numberOfSearch').innerHTML = stockNames.length;


                    }
                </script>

            </div>


        </div>

        <div style="width: 15%;height: 300px;margin-top: 10px;float:left" class="sc_selector">
            <table cellspacing="10" class="table table-condensed">
                <thead>
                <tr><h3 class="sc_title" style="height:60px;font-size:50px;padding-top:10px">热股榜</h3></tr>
                </thead>
                <tr class="depreciate">
                    <td>1</td>
                    <td style="margin-left: 20px"><a href="/S/BABA" target="_blank">深发展A</a></td>

                </tr>
                <tr class="depreciate">
                    <td>2</td>
                    <td style="margin-left: 20px"><a href="/S/BABA" target="_blank">沪深</a></td>

                </tr>

            </table>


        </div>

    </div>

    <!--//股票对比-->

    <div class="tab-pane " id="stockCompare">
        <div style="margin-left: 5%;margin-top:3%;width: 30%;" class="common_clom2_1">
            <div class="sc_selector">
                <div class="sc_title">
                    <h4 style="margin: 0px">股票对比
                        <small style="color: white;font-size: small">提示：最多对比5只股票</small>
                    </h4>
                </div>
                <div style="display: inline;width: 95%">时间： <input id="compaeStart" style="width: 40%" type="date"
                                                                   value="2015-09-24"/> - <input id="compareEnd"
                                                                                                 style="width: 40%"
                                                                                                 type="date"
                                                                                                 value="2015-09-24"
                >
                    <div class="sc_suggest">
                        添加对比：<input type="text" value="代码/名称/拼音" id="stockInput" autocomplete="off">
                        <!-- <a href="" class="sc_sel_btn" id="sc_sel_add">添加对比</a> -->
                        <button type="button" class="btn btn-default btn-sm" onclick="Inputadd()">
                            <span class="glyphicon glyphicon-plus"></span>
                        </button>
                        <ol class="sc_sel_results" id="sc_sel_results">
                        </ol>
                        <div class="stockScreener-search-result-table-container">
                            <div class="stockScreener-search-result-table mainTable overflowx">
                                <table id="compareTable" style="width:95px;"
                                       class="table table-striped">

                                    <tbody>


                                    </tbody>
                                </table>

                            </div>

                        </div>
                        <script>
                            function Inputadd() {

                                    var x = document.getElementById("compareTable").insertRow(Number);
                                    var y = x.insertCell(0);
                                    var stock = document.getElementById("stockInput");
                                    y.innerHTML = stock;
                                    stockToCompare.push(stock);
//                                document.getElementById('numberOfSearch').innerHTML = stockNames.length;
                                     Number++;
                            }
                            function Chooseadd(obj){


                                var c= $(obj).parent().parent().children("td").eq(0).text();
//                                alert("stockCHose :"+c);
                                stockToCompare.push(c);
                                var x = document.getElementById("compareTable").insertRow(Number);
                                var y = x.insertCell(0);

                                y.innerHTML = c;
//                                document.getElementById('numberOfSearch').innerHTML = stockNames.length;
                                Number++;

                            }
                        </script>

                        <div class="sc_sel_btns">
                            <button style="font-size: 18px" type="button" class="btn btn-default btn-sm" onclick="Compare()">
                                <span class="glyphicon glyphicon-search"></span> 开始对比
                            </button>
                            <!-- _url为对比的跳转链接,只需保证存在{code}存在即可		 -->
                            <button style="font-size: 18px" type="button" class="btn btn-default btn-sm" onclick="Remove()">
                                <span class="glyphicon glyphicon-trash"></span> 清空
                            </button>
                        </div>
                    </div>
                </div>

                <div class="sc_bigshot">
                    <div class="sc_title">
                        <h4>大盘指数：</h4>
                    </div>
                    <table class="sc_common_data">
                        <tbody>
                        <tr>
                            <td >上证指数</td>
                            <td >
                                <button  type="button"
                                        class="btn btn-default btn-sm" onclick="Chooseadd(this)" >
                                    <span class="glyphicon glyphicon-plus"></span>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td >深证成指</td>
                            <td>
                                <button type="button" class="btn btn-default btn-sm" onclick="Chooseadd(this)">
                                    <span class="glyphicon glyphicon-plus"></span>
                                </button>
                            </td>
                        </tr>

                        <tr>
                            <td >沪深300</td>
                            <th>
                                <button type="button" class="btn btn-default btn-sm" onclick="Chooseadd(this)">
                                    <span class="glyphicon glyphicon-plus"></span>
                                </button>
                            </th>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="sc_bigshot sc_tabs">
                    <div class="sc_title">
                        <h4>热门股：</h4>
                    </div>
                    <div class="sc_tabs_panel current" id="sc_tabs_panel1">
                        <table class="sc_common_data">
                            <tbody>
                            <tr>
                                <td><a >秦安股份</a>
                                </td>

                                <td>
                                    <button type="button" class="btn btn-default btn-sm" onclick="Chooseadd(this)">
                                        <span class="glyphicon glyphicon-plus"></span>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>万通智控
                                </td>

                                <th><button type="button" class="btn btn-default btn-sm" onclick="Chooseadd(this)">
                                    <span class="glyphicon glyphicon-plus"></span>
                                </button></th>
                            </tr>


                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
        <div class="common_clom2_2">
            <div class="compare_table">
                <div class="comparetitle">
                    <h6>基本指标对比</h6>
                </div>
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th>股票名称</th>
                        <th>股票编号</th>
                        <th>最低值</th>
                        <th>最高值</th>
                        <th>涨跌幅</th>
                        <th>涨跌幅</th>

                    </tr>
                    </thead>
                    <tbody>
                    <tr>



                    </tr>

                    </tbody>
                </table>

            </div>


            <div class="close_price">
                <!--<h6>每日收盘价</h6>-->
                <div>
                    <div id="closePrice" style="height:350px;width: 600px"></div>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js"></script>
                    <script type="text/javascript" src="closePrice.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
                    <script type="text/javascript"
                            src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
                    <script type="text/javascript" src="closePrice.js"></script>
                    <!--<div id="closePrice" style="height: 100%"></div>-->

                </div>
            </div>

            <div class="variance">

                <div>
                    <div id="variance" style="height:350px;width: 600px"></div>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js"></script>
                    <script type="text/javascript" src="variance.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
                    <script type="text/javascript"
                            src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
                    <script type="text/javascript"
                            src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
                    <!--<script type="text/javascript" src="variance.js"></script>-->
                    <!--<div id="closePrice" style="height: 100%"></div>-->

                </div>
            </div>


        </div>


    </div>
</div>
</body>
</html>